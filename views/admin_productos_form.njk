{% extends "admin_base.njk" %}

{% block titulo %}Producto |
    {% if (producto)%}
        Editar
    {% else %}
        Nuevo
    {% endif %}
{% endblock %}

{% block contenido %}
    {% if (producto) %}
        <h1>Edición de producto existente</h1>

        <form action="/admin/{{ producto.id }}" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" class="form-control" name="nombre" placeholder="Nombre" value="{{producto.nombre}}" required="required"/>
            </div>
            <div class="form-group">
                <label for="precio">Precio:</label>
                <input type="number" class="form-control" name="precio" placeholder="Precio" value="{{producto.precio}}" required="required"/>
            </div>
            <div class="form-group">
                <label for="descripcion">Descripción:</label>
                <input type="text" class="form-control" name="descripcion" placeholder="Descripción" value="{{producto.descripcion}}" required="required"/>
            </div>
            <div class="form-group">
                <label for="imagen">Imagen:</label><br>
                <img src="/public/uploads/{{producto.imagen}}">
                <input type="file" class="form-control" name="imagen"/>
            </div>
            <button type="submit" class="btn btn-secondary">Editar</button>
        </form>
    {% else %}
        <h1>Inserción de un nuevo producto</h1>
        <form action="/admin" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" class="form-control" name="nombre" placeholder="Nombre" required="required"/>
            </div>
            <div class="form-group">
                <label for="precio">Precio:</label>
                <input type="number" class="form-control" name="precio" placeholder="Precio" required="required"/>
            </div>
            <div class="form-group">
                <label for="descripcion">Descripción:</label>
                <input type="text" class="form-control" name="descripcion" placeholder="Descripción" required="required"/>
            </div>
            <div class="form-group">
                <label for="imagen">Imagen:</label><br>
                <input type="file"  style="margin-bottom: 10px; margin-top: 10px;" class="form-control" name="imagen" placeholder="Imagen" value="{{producto.imagen}}"/>
            </div>
            <button type="submit" class="btn btn-secondary">Enviar</button>
        </form>
    {% endif %}
{% endblock %}